# Copy this file to .env.local and fill in real values. Do NOT commit .env.local
NEXT_PUBLIC_SUPABASE_URL="https://YOUR_PROJECT_REF.supabase.co"
NEXT_PUBLIC_SUPABASE_ANON_KEY=""
NEXT_PUBLIC_BASE_URL=""
NEXT_PUBLIC_BOOKING_URL=""

# cal.com setup
NEXT_PUBLIC_CAL_ORIGIN=""
CAL_WEBHOOK_SECRET=""
# UNCOMMENT AND FILL IN IF YOU USE cal.com USER PROVISIONING
# CAL_API_KEY="" 
# Cal.com Postgres DB connection for user provisioning (Railway)
# Format: postgresql://user:pass@host:port/database?sslmode=require
CAL_DATABASE_URL=""

SUPABASE_SERVICE_ROLE_KEY=""
RESEND_API_KEY=""
RESEND_TIMEOUT_MS="10000" # optional: override email client timeout (ms), default 10000
LEADS_NOTIFY_EMAIL=""
LEADS_FROM_EMAIL=""

# Email safety for E2E/CI: when enabled, all outbound emails are suppressed.
EMAIL_SUPPRESS_OUTBOUND="false"   # set to "true" or "1" in E2E/CI

# Admin interface password (used to protect /admin/* via middleware)
ADMIN_PASSWORD=""

# Vercel Cron secret for authenticated batch jobs (e.g., therapist profile reminders)
# Choose a long random value. Example generation:
#   openssl rand -base64 32
CRON_SECRET=""

#Resend Webhook signing secret
EMAIL_WEBHOOK_SIGNING_SECRET=""

# Used to hash IP addresses for audit logs (therapist contracts). Do NOT reuse elsewhere.
# Recommendations:
# - Length: 32+ random bytes (base64 or hex encoded)
# - Rotation: only if compromised. If you plan rotations, store a salt version with each record.
# - Generate: `openssl rand -base64 32` or `node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"`
IP_HASH_SALT=""

# JWT secret for client session cookies (EARTH-203)
# Used to sign session cookies for verified patients who initiate contact with therapists.
# Enables rate limiting (3 contacts/24h) without re-verification for 30 days.
# Generate: `openssl rand -base64 32`
# REQUIRED in production; dev environment falls back to insecure default.
JWT_SECRET=""

# Homepage A/B test variant: "dual" or "patient-only"
NEXT_PUBLIC_EXPERIMENT_HOME_VARIANT="dual"

# Cookie toggle (Consent Mode v2, EARTH-133/172/175):
#   false (default) → cookie-free public site (Consent Mode denied)
#   true            → enable Google Ads conversion linker cookies after consent
NEXT_PUBLIC_COOKIES=""

# SMS Verification (EARTH-191)
# Verification mode controls which channel(s) are offered to users:
#   email  - Email verification only (default, backward compatible)
#   sms    - SMS verification only
#   choice - Device-aware: mobile=phone, desktop=email with toggle
# Works on both server and client:
NEXT_PUBLIC_VERIFICATION_MODE="choice"

# Schwerpunkte
# Feature-flag for therapist specializations on public site
NEXT_PUBLIC_SHOW_SCHWERPUNKTE=true

# Google Ads Enhanced Conversions (server-side)
# OAuth2 credentials for Google Ads API
GOOGLE_ADS_CLIENT_ID=""
GOOGLE_ADS_CLIENT_SECRET=""
GOOGLE_ADS_REFRESH_TOKEN=""
# Google Ads developer token and customer IDs
GOOGLE_ADS_DEVELOPER_TOKEN=""
GOOGLE_ADS_CUSTOMER_ID="" # e.g. 1234567890
# Optional: manager account for login if applicable
GOOGLE_ADS_LOGIN_CUSTOMER_ID="" # e.g. 0987654321

# Enhanced conversion action resource names (map aliases to resource names)
# Obtain from Google Ads UI/API, e.g. customers/1234567890/conversionActions/111111111
GOOGLE_ADS_CA_CLIENT_REGISTRATION=""
GOOGLE_ADS_CA_THERAPIST_REGISTRATION=""
GOOGLE_ADS_CA_MATCH_REQUEST=""
GOOGLE_ADS_CA_SUCCESSFUL_MATCH=""
GOOGLE_ADS_CA_PAYMENT_COMPLETED=""
GOOGLE_ADS_CA_PROFILE_COMPLETION=""
GOOGLE_ADS_CA_FIRST_CONTACT=""

# Google Ads client-side conversions
# Conversion ID and labels from Google Ads UI (Goals → Conversions → each action)
# Values: Form Complete €4, Lead Verified €12 (PRIMARY), Intro Booked €60, Session Booked €125
NEXT_PUBLIC_GOOGLE_ADS_ID=""
NEXT_PUBLIC_GAD_CONV_FORM_COMPLETE=""         # KH - Form Complete (€4, secondary)
NEXT_PUBLIC_GAD_CONV_VERIFIED=""              # KH - Lead Verified (€12, PRIMARY)
NEXT_PUBLIC_GAD_CONV_INTRO_BOOKED=""          # KH - Intro Booked (€60, secondary)
NEXT_PUBLIC_GAD_CONV_SESSION_BOOKED=""        # KH - Session Booked (€125, secondary)
NEXT_PUBLIC_GAD_CONV_THERAPIST=""             # Therapist registration (legacy)

# WhatsApp link for floating WhatsApp button
# Example: https://wa.me/491234567890
NEXT_PUBLIC_WHATSAPP_URL=""

# Microsoft Clarity (session recordings and heatmaps)
# Loads on all public pages incl. /matches/*; /admin/* and /match/* excluded for privacy
NEXT_PUBLIC_CLARITY_PROJECT_ID="uew1lvb6gl"

#Twilio Auth
TWILIO_ACCOUNT_SID=""
TWILIO_AUTH_TOKEN=""
TWILIO_VERIFY_SERVICE_SID=""

# Twilio Programmable SMS (transactional notifications)
# Required for sending the matches link via SMS to phone-only Klient:innen.
# Provide EITHER a Messaging Service SID OR a single From number (E.164)
TWILIO_MESSAGING_SERVICE_SID=""
TWILIO_FROM_NUMBER="" # e.g. +491234567890
TWILIO_STATUS_CALLBACK_URL="" # e.g. https://kaufmann-health.de/api/internal/sms/status
# Incoming SMS webhook - configure in Twilio Console → Messaging Service → Integration
# URL: https://kaufmann-health.de/api/internal/sms/incoming
# Forwards replies to LEADS_NOTIFY_EMAIL with callback detection ("Hilfe")

# Public directory exclusions (hide specific therapists from /therapeuten and public counts)
# Comma-separated list of therapist UUIDs. Example:
# HIDE_THERAPIST_IDS="e5de1fb4-90c6-4681-aa23-b4e84e7defa8,11111111-2222-3333-4444-555555555555"
HIDE_THERAPIST_IDS=""

# Local E2E only: provide a verified therapist id to run contact flow tests
# Not used in production code; only read by Playwright tests
E2E_THERAPIST_ID=""

# E2E SMS verification bypass (non-production only)
# When enabled, SMS send/verify uses a mock path instead of Twilio.
# Set NEXT_PUBLIC_VERIFICATION_MODE=sms for the server to expose the phone path
E2E_SMS_BYPASS="false"
E2E_SMS_CODE=""